![JavaScript](https://user-images.githubusercontent.com/77887712/129440754-15f66e64-f1fe-41eb-9c13-b413bb7f3500.png)

> 이 글은 모던 JavaScript 튜토리얼의 내용을 참조하였으며, 공부한 내용을 기록하고 복습하기 위한 용도로 작성하였습니다.

# Chapter 10. while과 for 반복문

특정 구간을 반복 동작이 필요한 경우 사용하는 문법으로 while과 for이 있으며, 이 방법에 대해 알아본다.

#### 1. while 반복문

```javascript
while ( condition ) {
    // '반복문 본문'이라고 불리는 공간
}
```

`while` 안에 있는 (condition)이 truthy 이면 반복문 본문의 코드가 실행된다.

조건이 만족하는 동안 그 코드는 계속 실행되며, 이렇게 반복문의 본문 전체가 한 번 실행되는 것을 반복(Iteration, 이터레이션)이라고 부른다.

```javascript
let i = 0;
while (i < 3) { // 0, 1, 2가 출력된다.
  alert( i );
  i++; // 반복문을 한 번 반복할 때마다, i의 값이 1씩 증가한다.
}
// while()의 조건은 i가 3이 된 순간, 조건이 만족하지 않으므로 해당 반복문을 멈추게 된다.
```

외부에 있는 i 값을 이용해 while에 있는 조건을 만족하는 상황을 벗어나게 만듦으로써 무한히 반복될 수 있는 프로세스를 종료할 수 있으며 반복문의 조건에는 비교 외에도 다양한 표현식과 변수가 올 수 있다.

```javascript
// if 문과 마찬가지로 본문이 한 줄인 경우 대괄호{}를 생략할 수 있다.
let i  = 3;
while (i) alert(i--); 
```

---

#### 2. do-while 반복문

```javascript
do {
    // '반복문 본문 구간'
} while( condition );									
```

`do..while`문법은 조건이 truthy 의 유무와 상관 없이, 본문을 최소한 한 번은 실행한 후 해당 조건을 더 반복할지 평가할 때 사용한다. 

```javascript
let i = 0;
do {
  alert( i ); // 0, 1, 2가 출력된다.
  i++;
} while (i < 3); // do {} 안의 본문을 falsy가 될 때까지 재평가하며 do{}의 반복을 수행한다.
```

 **최소한 한 번은 실행되어야하는 상황** 외에는 대부분의 상황에서는 `while(){}` 반복문을 사용을 한다.

---

#### 3. for 반복문

`while(){}` 반복문은 얼만큼 반복해야하는지 명확하지 않을 때 사용하며,

`for(){}`반복문의 경우에는 반복의 조건이 명확하게 주어져있을 때 사용하는 편으로 문법은 다음과 같다.

```javascript
for (begin; condition; step){
    // '반복문 본문 구간'
}
```

`for`문을 구성하는 요소는 다음과 같다.

**구성요소**

| **begein**(초기값)  |    **i = 0**    | **반복문에 진입할 때 단 한 번 실행**                   |
| :-----------------: | :-------------: | :----------------------------------------------------- |
| **condition(조건)** |    **i < 3**    | **반복마다 해당 조건이 확인, false이면 반복문을 멈춤** |
|   **body(본문)**    | **alert ( i )** | **condition이 truthy일 동안 계속해서 실행**            |
|  **step(증감값)**   |    **i ++**     | **각 반복의 body가 실행된 이후에 실행**                |

아래의 코드를 설명하면 다음과 같다.

```javascript
for (let i = 0; i < 3; i++){ // 0, 1, 2가 출력된다.
    alert( i );
}
```

반복문을 실행하면 `i`가 `0`부터 `3`이 될 때까지 `alert(i)`가 호출된다. 

- **인라인 변수 선언**

```javascript
for (let i = 0; i < 3; i++) {
  alert(i); // 0, 1, 2
}
alert(i); // Error: i is not defined
```

카운터하는 변수 `i`를 반복문 안에서 선언해서 사용한다면 증감처리하는 변수는 인라인 변수로 선언되어, `i` 변수는 반복문 안에서만 접근할 수 있다. 

```javascript
let i = 0;

for (i = 0; i < 3; i++) { // 기존에 정의된 변수 사용
  alert(i); // 0, 1, 2
}

alert(i); // 3, 반복문 밖에서 선언한 변수이므로 사용할 수 있음
```

하지만 선언을 인라인 변수가 아닌 전역변수로 for 밖에서 변수를 생성한 것을 사용하는 경우에는 반복문 밖에서도 사용할 수 있다. 이것은 해당 반복문을 어떻게 이용할 것인지에 따라 유동적으로 처리할 수 있는 부분이다.

- **구성요소 생략하기**

for문의 구성요소를 생략하여 사용하는 것도 가능하다.

```javascript
{// 'begin'이 필요하지 않기 때문에 생략한 for 문법
   let i = 0;
    
   for (; i < 3; i++) { 
      alert( i ); // 0, 1, 2
    } 
}

{ // 'begin'과 'step'을 생략한 for 문법 
   let i = 0;
    
    for (; i < 3;) { // while( i < 3 )과 동일한 문법
      alert( i++ );
    } 
}

{ // 모든 구성요소를 생략한 for 문법
    for (;;) {
      // 해당 내용은 true이기 때문에 끝 없이 본문이 실행된다.
    }
}
```

우선 반복문의 초기값이 필요없는 경우에 `begin`을 생략하는 것이 가능하며, 증감 값인 `step`도 생략할 수 있다.  모든 구성요소를 생략하는 경우에는 무한 반복문이 된다.

for 구성요소를 생략할 때, 주의할 점은 `;`(세미콜론)을 반드시 `()`안에 두 개를 포함시켜야 한다는 것이다.

---

**반복문 탈출( break )**

반복문의 조건을 만족하지 않더라도 특정 구간을 빠져나올 수 있는 특별한 지시자인 `break`를 사용하면 원할 때 반복문을 나올 수 있다.

```javascript
let sum = 0;

while (true) {

  let value = +prompt("숫자를 입력하세요.", '');

  if (!value) break; // (*)

  sum += value;

}
alert( '합계: ' + sum );
```

`(*)`에 있는 `break`는 사용자가 아무것도 입력하지 않거나 취소할 경우 동작하는 `if`조건문으로 해당 조건이 만족하게 되면 while 안의 본문을 즉시 중단시키고 순차적인 흐름으로 바뀌면서 그 다음 반복문 아래에 있는 alert을 실행시킴으로써 합계가 출력된다.

이처럼 반복문의 시작 지점이나 끝 지점에서 조건을 확인하는 경우가 아니라 중간에 특정 조건을 확인해야한다면, ''무한 반복문과 `break`''를 조합하여 사용하면 유용하다.

---

**다음 반복으로 넘어가기( continue )** 

`continue` 지시자는 현재 반복을 종료하고 다음 반복으로 넘아갈 때 사용한다.

```javascript
// 홀수를 출력해주는 예시 - 1
for (let i = 0; i < 10; i++) {

  // 조건이 참이라면 남아있는 본문은 실행되지 않는다.
  if (i % 2 == 0) continue;

  alert(i); // 1, 3, 5, 7, 9가 차례대로 출력됨
}

// 홀수를 출력해주는 예시 - 2
for (let i = 0; i < 10; i++) {

  if (i % 2) {
    alert( i );
  }

}
```

`i`가 짝수면 `continue` 본문 실행을 중단하고 다음 반복문으로 실행되게 함으로써 alert 함수는 인수가 홀수 일 때만 호출된다. 

아래의 홀수 출력 예시 - 2에서는 1번 예시와 결과가 같지만  `continue`를 사용하지 않은 2번 예시가 `if`문을 사용함으로써 블록을 형성하고 그에 따른 중첩 레벨이 상승하기 때문에 전체적인 가독성이 떨어진다. 즉, `continue`를 사용하는 것이 코드의 전체 길이를 짧게 해주는 역할을 수행할수 있는 것이다. 

> **참고** : 삼항연산자 `?` 문법에는 `break`나 `continue`가 올 수 없다.

---

**다중 중첩 반복문의 이동 ( label )**

여러 개의 중첩된 반복문을 한 번에 빠져나오는 경우 레이블을 사용할 수 있다.

```javascript
for (let i = 0; i < 3; i++) {

  for (let j = 0; j < 3; j++) {

    let input = prompt(`(${i},${j})의 값`, '');

    // 여기서 멈춰서 아래쪽의 `완료!`가 출력되게 해야한다면 ?
  }
}

alert('완료!');
```

위 예시는 사용자의 취소 버튼을 받거나 입력 값이 없으면 반복문 전체를 종료시키는 방법이 필요한 상황으로 단순히 input 아래의 `if`를 이용하여 `break` 지시자를 사용한다면 여전히 첫 번째 줄에 있는 `for` 반복문을 벗어나지 못한다.  이러한 경우 레이블을 이용하면 모두 빠져나올 수 있으며, 사용방법은 다음과 같다.

```javascript
// label 사용 예시 - 1
labelName: for (...) {
  ...
}

// label 사용 예시 - 2 ( 가독성을 고려한 방법 )
labelName:
  	for(...){
    ...
}
```

반복문 안에서 `break labelName`을 사용하면 레이블에 해당하는 반복문의 위치까지 `break`를 수행한다.

```javascript
outer: 
for (let i = 0; i < 3; i++) {

  for (let j = 0; j < 3; j++) {

    let input = prompt(`(${i},${j})의 값`, '');

    // 사용자가 아무것도 입력하지 않거나 Cancel 버튼을 누르면 두 반복문 모두를 빠져나옵니다.
    if (!input) break outer; // (*)

    // 입력받은 값을 가지고 무언가를 함
  }
}
alert('완료!');
```

label을 이용하면  `break outer`는 `outer`라는 레이블이 붙은 반복문을 찾고, 해당 반복문까지 빠져나오게 해준다. 이렇게 함으로써 alert()까지 접근할 수 있게 된다.

```javascript
break label; // 아래의 for 문으로 이동할 수 없다.

labal : for ( ... )
```

이처럼 레이블을 사용한다고 해서 원하는 곳을 제약 없이 이동할 수 있는 것이 아니다, `break`와 `continue`는 반복문 안에 위치해야하며, `label`은 반드시  `break`나 `continue`의 지시자 위에 있어야 적용 가능하다.

